/*
*****************************************************************************************
Name        : TestSFDCInboundWebServiceController 

---------------------------------------------------------------------------
Developer              Date            Description
Ankur Patel           2/1/2016          Created
*****************************************************************************************
*/

@isTest(seeAllData=true)
private class TestSFDCInboundWebServiceController {
    static testmethod void TestSFDCInboundWebServiceController1(){
        User u = [select Id from User where Name = 'EBS API User'];
        System.runAs(u){
            GenerateTestData.createAccount();        
            GenerateTestData.createAddress();
            GenerateTestData.createAsset();
            String XMLContent = '<ROWSET><ROW><STAGING_ID>6260</STAGING_ID><LAST_UPDATE_DATE>16-DEC-2015</LAST_UPDATE_DATE><LAST_UPDATED_BY>242847</LAST_UPDATED_BY><CREATION_DATE>16-DEC-2015</CREATION_DATE><CREATED_BY>308273</CREATED_BY><BATCH_ID>20806</BATCH_ID><CONC_REQUEST_ID>124864260</CONC_REQUEST_ID><EVENT_RAISED_FLAG>Y</EVENT_RAISED_FLAG><STATUS>FETCH_ISG_WS</STATUS><ERROR_MESSAGE/><BPEL_INSTANCE_NAME>SOATEST</BPEL_INSTANCE_NAME><BPEL_INSTANCE_ID>54354323</BPEL_INSTANCE_ID><ADDL_ATTRIBUTE1/><ADDL_ATTRIBUTE2/><ADDL_ATTRIBUTE3/><ADDL_ATTRIBUTE4/><ADDL_ATTRIBUTE5/><ADDL_ATTRIBUTE6/><ADDL_ATTRIBUTE7/><ADDL_ATTRIBUTE8/><ADDL_ATTRIBUTE9/><ADDL_ATTRIBUTE10/><DATA_TYPE>H</DATA_TYPE><NUM_OF_LINES>2</NUM_OF_LINES><RECORD_TYPE>REN</RECORD_TYPE><CONTRACT_ID>1234aaa1234</CONTRACT_ID><OPPORTUNITY_NAME>RenewalFinalized2-Renewal-Test-1</OPPORTUNITY_NAME><PRICE_LIST_ID>817033</PRICE_LIST_ID><FCH_MASTER_ID>111111</FCH_MASTER_ID><BUSINESS_TYPE/><SUB_TYPE>Renewal</SUB_TYPE><PAYMENT_TERM>30 NET</PAYMENT_TERM><SELLING_DIVISION>GCCM</SELLING_DIVISION><FCH_BILL_TO_SITE_ID>222222</FCH_BILL_TO_SITE_ID><FCH_BILL_TO_CONTACT_ID></FCH_BILL_TO_CONTACT_ID><FCH_SHIP_TO_SITE_ID>222222</FCH_SHIP_TO_SITE_ID><FCH_SHIP_TO_CONTACT_ID></FCH_SHIP_TO_CONTACT_ID><HDR_ATTRIBUTE1/><HDR_ATTRIBUTE2/><HDR_ATTRIBUTE3/><HDR_ATTRIBUTE4/><HDR_ATTRIBUTE5/><SERVICE_LINE_ID/><SERVICE_ITEM_ID/><SERV_START_DATE>16-DEC-2015</SERV_START_DATE><SERV_END_DATE>28-FEB-2016</SERV_END_DATE><LINE_LIST_PRICE/><LINE_SELLING_PRICE/><ACTUAL_SELLING_PRICE/><DISCOUNT_PERCENT/><QUANTITY/><ASSET_NAME/><ASSET_SERIAL_NUMBER/><LINE_ATTRIBUTE1/><LINE_ATTRIBUTE2/><LINE_ATTRIBUTE3/><LINE_ATTRIBUTE4/><LINE_ATTRIBUTE5/></ROW><ROW><STAGING_ID>6261</STAGING_ID><LAST_UPDATE_DATE>16-DEC-2015</LAST_UPDATE_DATE><LAST_UPDATED_BY>242847</LAST_UPDATED_BY><CREATION_DATE>16-DEC-2015</CREATION_DATE><CREATED_BY>308273</CREATED_BY><BATCH_ID>20806</BATCH_ID><CONC_REQUEST_ID>124864260</CONC_REQUEST_ID><EVENT_RAISED_FLAG>Y</EVENT_RAISED_FLAG><STATUS>FETCH_ISG_WS</STATUS><ERROR_MESSAGE/><BPEL_INSTANCE_NAME>SOATEST</BPEL_INSTANCE_NAME><BPEL_INSTANCE_ID>54354323</BPEL_INSTANCE_ID><ADDL_ATTRIBUTE1/><ADDL_ATTRIBUTE2/><ADDL_ATTRIBUTE3/><ADDL_ATTRIBUTE4/><ADDL_ATTRIBUTE5/><ADDL_ATTRIBUTE6/><ADDL_ATTRIBUTE7/><ADDL_ATTRIBUTE8/><ADDL_ATTRIBUTE9/><ADDL_ATTRIBUTE10/><DATA_TYPE>L</DATA_TYPE><NUM_OF_LINES/><RECORD_TYPE>REN</RECORD_TYPE><CONTRACT_ID>1234aaa1234</CONTRACT_ID><OPPORTUNITY_NAME/><PRICE_LIST_ID/><FCH_MASTER_ID/><BUSINESS_TYPE/><SUB_TYPE/><PAYMENT_TERM/><SELLING_DIVISION/><FCH_BILL_TO_SITE_ID/><FCH_BILL_TO_CONTACT_ID/><FCH_SHIP_TO_SITE_ID/><FCH_SHIP_TO_CONTACT_ID/><HDR_ATTRIBUTE1/><HDR_ATTRIBUTE2/><HDR_ATTRIBUTE3/><HDR_ATTRIBUTE4/><HDR_ATTRIBUTE5/><SERVICE_LINE_ID>928744017434531426007474814316055620004682</SERVICE_LINE_ID><SERVICE_ITEM_ID>1320376</SERVICE_ITEM_ID><LINE_LIST_PRICE>1000</LINE_LIST_PRICE><LINE_SELLING_PRICE>12000</LINE_SELLING_PRICE><ACTUAL_SELLING_PRICE>12000</ACTUAL_SELLING_PRICE><DISCOUNT_PERCENT>2</DISCOUNT_PERCENT><QUANTITY>12</QUANTITY><ASSET_NAME>391G</ASSET_NAME><SERV_START_DATE>16-DEC-2015</SERV_START_DATE><SERV_END_DATE>26-FEB-2016</SERV_END_DATE><ASSET_SERIAL_NUMBER/><LINE_ATTRIBUTE1/><LINE_ATTRIBUTE2/><LINE_ATTRIBUTE3/><LINE_ATTRIBUTE4/><LINE_ATTRIBUTE5/></ROW><ROW><STAGING_ID>6262</STAGING_ID><LAST_UPDATE_DATE>16-DEC-2015</LAST_UPDATE_DATE><LAST_UPDATED_BY>242847</LAST_UPDATED_BY><CREATION_DATE>16-DEC-2015</CREATION_DATE><CREATED_BY>308273</CREATED_BY><BATCH_ID>20806</BATCH_ID><CONC_REQUEST_ID>124864260</CONC_REQUEST_ID><EVENT_RAISED_FLAG>Y</EVENT_RAISED_FLAG><STATUS>FETCH_ISG_WS</STATUS><ERROR_MESSAGE/><BPEL_INSTANCE_NAME>SOATEST</BPEL_INSTANCE_NAME><BPEL_INSTANCE_ID>54354323</BPEL_INSTANCE_ID><ADDL_ATTRIBUTE1/><ADDL_ATTRIBUTE2/><ADDL_ATTRIBUTE3/><ADDL_ATTRIBUTE4/><ADDL_ATTRIBUTE5/><ADDL_ATTRIBUTE6/><ADDL_ATTRIBUTE7/><ADDL_ATTRIBUTE8/><ADDL_ATTRIBUTE9/><ADDL_ATTRIBUTE10/><DATA_TYPE>L</DATA_TYPE><NUM_OF_LINES/><RECORD_TYPE>REN</RECORD_TYPE><CONTRACT_ID>1234aaa1234</CONTRACT_ID><OPPORTUNITY_NAME/><PRICE_LIST_ID/><FCH_MASTER_ID/><BUSINESS_TYPE/><SUB_TYPE/><PAYMENT_TERM/><SELLING_DIVISION/><FCH_BILL_TO_SITE_ID/><FCH_BILL_TO_CONTACT_ID/><FCH_SHIP_TO_SITE_ID/><FCH_SHIP_TO_CONTACT_ID/><HDR_ATTRIBUTE1/><HDR_ATTRIBUTE2/><HDR_ATTRIBUTE3/><HDR_ATTRIBUTE4/><HDR_ATTRIBUTE5/><SERVICE_LINE_ID>928744017434531426007474814316055620004684</SERVICE_LINE_ID><SERVICE_ITEM_ID>1320376</SERVICE_ITEM_ID><LINE_LIST_PRICE>1000</LINE_LIST_PRICE><LINE_SELLING_PRICE>14000</LINE_SELLING_PRICE><ACTUAL_SELLING_PRICE>14000</ACTUAL_SELLING_PRICE><DISCOUNT_PERCENT>4</DISCOUNT_PERCENT><QUANTITY>24</QUANTITY><ASSET_NAME>391G</ASSET_NAME><SERV_START_DATE>16-DEC-2015</SERV_START_DATE><SERV_END_DATE>26-FEB-2016</SERV_END_DATE><ASSET_SERIAL_NUMBER/><LINE_ATTRIBUTE1/><LINE_ATTRIBUTE2/><LINE_ATTRIBUTE3/><LINE_ATTRIBUTE4/><LINE_ATTRIBUTE5/></ROW></ROWSET>';
            SFDCInboundWebServiceController.PayLoad dataObj = new SFDCInboundWebServiceController.PayLoad();
            dataObj.InterfaceName = 'TNV_SFDC_OPPORTUNITY_EXT_PKG';
            dataObj.XMLContent = XMLContent;
            dataObj.Attribute1 = '';
            dataObj.Attribute2 = '';
            dataObj.Attribute3 = '';
            dataObj.Attribute4 = '';
            dataObj.Attribute5 = '';
            test.startTest();
            SFDCInboundWebServiceController.SFDCInboundWebServiceMethod(dataObj);
            test.stopTest();
        }
    }
    
    static testmethod void TestSFDCInboundWebServiceController2(){
        User u = [select Id from User where Name = 'EBS API User'];
        System.runAs(u){
            GenerateTestData.createAccount();        
            GenerateTestData.createAddress();
            GenerateTestData.createAsset();
        
            //String XMLContent = '<ROWSET><ROW><STAGING_ID>6260</STAGING_ID><LAST_UPDATE_DATE>16-DEC-2015</LAST_UPDATE_DATE><LAST_UPDATED_BY>242847</LAST_UPDATED_BY><CREATION_DATE>16-DEC-2015</CREATION_DATE><CREATED_BY>308273</CREATED_BY><BATCH_ID>20806</BATCH_ID><CONC_REQUEST_ID>124864260</CONC_REQUEST_ID><EVENT_RAISED_FLAG>Y</EVENT_RAISED_FLAG><STATUS>FETCH_ISG_WS</STATUS><ERROR_MESSAGE/><BPEL_INSTANCE_NAME>SOATEST</BPEL_INSTANCE_NAME><BPEL_INSTANCE_ID>54354323</BPEL_INSTANCE_ID><ADDL_ATTRIBUTE1/><ADDL_ATTRIBUTE2/><ADDL_ATTRIBUTE3/><ADDL_ATTRIBUTE4/><ADDL_ATTRIBUTE5/><ADDL_ATTRIBUTE6/><ADDL_ATTRIBUTE7/><ADDL_ATTRIBUTE8/><ADDL_ATTRIBUTE9/><ADDL_ATTRIBUTE10/><DATA_TYPE>H</DATA_TYPE><NUM_OF_LINES>2</NUM_OF_LINES><RECORD_TYPE>REN</RECORD_TYPE><CONTRACT_ID>626111</CONTRACT_ID><OPPORTUNITY_NAME>RenewalFinalized2-Renewal-Test-1</OPPORTUNITY_NAME><PRICE_LIST_ID>817033</PRICE_LIST_ID><FCH_MASTER_ID>111111</FCH_MASTER_ID><BUSINESS_TYPE/><SUB_TYPE>Renewal</SUB_TYPE><PAYMENT_TERM>30 NET</PAYMENT_TERM><SELLING_DIVISION>GCCM</SELLING_DIVISION><FCH_BILL_TO_SITE_ID>222222</FCH_BILL_TO_SITE_ID><FCH_BILL_TO_CONTACT_ID></FCH_BILL_TO_CONTACT_ID><FCH_SHIP_TO_SITE_ID>222222</FCH_SHIP_TO_SITE_ID><FCH_SHIP_TO_CONTACT_ID></FCH_SHIP_TO_CONTACT_ID><HDR_ATTRIBUTE1/><HDR_ATTRIBUTE2/><HDR_ATTRIBUTE3/><HDR_ATTRIBUTE4/><HDR_ATTRIBUTE5/><SERVICE_LINE_ID/><SERVICE_ITEM_ID/><SERV_START_DATE>16-DEC-2015</SERV_START_DATE><SERV_END_DATE>28-FEB-2016</SERV_END_DATE><LINE_LIST_PRICE/><LINE_SELLING_PRICE/><ACTUAL_SELLING_PRICE/><DISCOUNT_PERCENT/><QUANTITY/><ASSET_NAME/><ASSET_SERIAL_NUMBER/><LINE_ATTRIBUTE1/><LINE_ATTRIBUTE2/><LINE_ATTRIBUTE3/><LINE_ATTRIBUTE4/><LINE_ATTRIBUTE5/></ROW><ROW><STAGING_ID>6261</STAGING_ID><LAST_UPDATE_DATE>16-DEC-2015</LAST_UPDATE_DATE><LAST_UPDATED_BY>242847</LAST_UPDATED_BY><CREATION_DATE>16-DEC-2015</CREATION_DATE><CREATED_BY>308273</CREATED_BY><BATCH_ID>20806</BATCH_ID><CONC_REQUEST_ID>124864260</CONC_REQUEST_ID><EVENT_RAISED_FLAG>Y</EVENT_RAISED_FLAG><STATUS>FETCH_ISG_WS</STATUS><ERROR_MESSAGE/><BPEL_INSTANCE_NAME>SOATEST</BPEL_INSTANCE_NAME><BPEL_INSTANCE_ID>54354323</BPEL_INSTANCE_ID><ADDL_ATTRIBUTE1/><ADDL_ATTRIBUTE2/><ADDL_ATTRIBUTE3/><ADDL_ATTRIBUTE4/><ADDL_ATTRIBUTE5/><ADDL_ATTRIBUTE6/><ADDL_ATTRIBUTE7/><ADDL_ATTRIBUTE8/><ADDL_ATTRIBUTE9/><ADDL_ATTRIBUTE10/><DATA_TYPE>L</DATA_TYPE><NUM_OF_LINES/><RECORD_TYPE>REN</RECORD_TYPE><CONTRACT_ID>626000</CONTRACT_ID><OPPORTUNITY_NAME/><PRICE_LIST_ID/><FCH_MASTER_ID/><BUSINESS_TYPE/><SUB_TYPE/><PAYMENT_TERM/><SELLING_DIVISION/><FCH_BILL_TO_SITE_ID/><FCH_BILL_TO_CONTACT_ID/><FCH_SHIP_TO_SITE_ID/><FCH_SHIP_TO_CONTACT_ID/><HDR_ATTRIBUTE1/><HDR_ATTRIBUTE2/><HDR_ATTRIBUTE3/><HDR_ATTRIBUTE4/><HDR_ATTRIBUTE5/><SERVICE_LINE_ID>928744017434531426007474814316055620004682</SERVICE_LINE_ID><SERVICE_ITEM_ID>11111111</SERVICE_ITEM_ID><LINE_LIST_PRICE>1000</LINE_LIST_PRICE><LINE_SELLING_PRICE>12000</LINE_SELLING_PRICE><ACTUAL_SELLING_PRICE>12000</ACTUAL_SELLING_PRICE><DISCOUNT_PERCENT>2</DISCOUNT_PERCENT><QUANTITY>12</QUANTITY><ASSET_NAME>391G</ASSET_NAME><SERV_START_DATE>16-DEC-2015</SERV_START_DATE><SERV_END_DATE>26-FEB-2016</SERV_END_DATE><ASSET_SERIAL_NUMBER/><LINE_ATTRIBUTE1/><LINE_ATTRIBUTE2/><LINE_ATTRIBUTE3/><LINE_ATTRIBUTE4/><LINE_ATTRIBUTE5/></ROW><ROW><STAGING_ID>6262</STAGING_ID><LAST_UPDATE_DATE>16-DEC-2015</LAST_UPDATE_DATE><LAST_UPDATED_BY>242847</LAST_UPDATED_BY><CREATION_DATE>16-DEC-2015</CREATION_DATE><CREATED_BY>308273</CREATED_BY><BATCH_ID>20806</BATCH_ID><CONC_REQUEST_ID>124864260</CONC_REQUEST_ID><EVENT_RAISED_FLAG>Y</EVENT_RAISED_FLAG><STATUS>FETCH_ISG_WS</STATUS><ERROR_MESSAGE/><BPEL_INSTANCE_NAME>SOATEST</BPEL_INSTANCE_NAME><BPEL_INSTANCE_ID>54354323</BPEL_INSTANCE_ID><ADDL_ATTRIBUTE1/><ADDL_ATTRIBUTE2/><ADDL_ATTRIBUTE3/><ADDL_ATTRIBUTE4/><ADDL_ATTRIBUTE5/><ADDL_ATTRIBUTE6/><ADDL_ATTRIBUTE7/><ADDL_ATTRIBUTE8/><ADDL_ATTRIBUTE9/><ADDL_ATTRIBUTE10/><DATA_TYPE>L</DATA_TYPE><NUM_OF_LINES/><RECORD_TYPE>REN</RECORD_TYPE><CONTRACT_ID>626000</CONTRACT_ID><OPPORTUNITY_NAME/><PRICE_LIST_ID/><FCH_MASTER_ID/><BUSINESS_TYPE/><SUB_TYPE/><PAYMENT_TERM/><SELLING_DIVISION/><FCH_BILL_TO_SITE_ID/><FCH_BILL_TO_CONTACT_ID/><FCH_SHIP_TO_SITE_ID/><FCH_SHIP_TO_CONTACT_ID/><HDR_ATTRIBUTE1/><HDR_ATTRIBUTE2/><HDR_ATTRIBUTE3/><HDR_ATTRIBUTE4/><HDR_ATTRIBUTE5/><SERVICE_LINE_ID>928744017434531426007474814316055620004684</SERVICE_LINE_ID><SERVICE_ITEM_ID>1320376</SERVICE_ITEM_ID><LINE_LIST_PRICE>1000</LINE_LIST_PRICE><LINE_SELLING_PRICE>14000</LINE_SELLING_PRICE><ACTUAL_SELLING_PRICE>14000</ACTUAL_SELLING_PRICE><DISCOUNT_PERCENT>4</DISCOUNT_PERCENT><QUANTITY>24</QUANTITY><ASSET_NAME>391G</ASSET_NAME><SERV_START_DATE>16-DEC-2015</SERV_START_DATE><SERV_END_DATE>26-FEB-2016</SERV_END_DATE><ASSET_SERIAL_NUMBER/><LINE_ATTRIBUTE1/><LINE_ATTRIBUTE2/><LINE_ATTRIBUTE3/><LINE_ATTRIBUTE4/><LINE_ATTRIBUTE5/></ROW></ROWSET>';
            String XMLContent = '<ROWSET><ROW><STAGING_ID>6260</STAGING_ID><LAST_UPDATE_DATE>16-DEC-2015</LAST_UPDATE_DATE><LAST_UPDATED_BY>242847</LAST_UPDATED_BY><CREATION_DATE>16-DEC-2015</CREATION_DATE><CREATED_BY>308273</CREATED_BY><BATCH_ID>20806</BATCH_ID><CONC_REQUEST_ID>124864260</CONC_REQUEST_ID><EVENT_RAISED_FLAG>Y</EVENT_RAISED_FLAG><STATUS>FETCH_ISG_WS</STATUS><ERROR_MESSAGE/><BPEL_INSTANCE_NAME>SOATEST</BPEL_INSTANCE_NAME><BPEL_INSTANCE_ID>54354323</BPEL_INSTANCE_ID><ADDL_ATTRIBUTE1/><ADDL_ATTRIBUTE2/><ADDL_ATTRIBUTE3/><ADDL_ATTRIBUTE4/><ADDL_ATTRIBUTE5/><ADDL_ATTRIBUTE6/><ADDL_ATTRIBUTE7/><ADDL_ATTRIBUTE8/><ADDL_ATTRIBUTE9/><ADDL_ATTRIBUTE10/><DATA_TYPE>H</DATA_TYPE><NUM_OF_LINES>2</NUM_OF_LINES><RECORD_TYPE>REN</RECORD_TYPE><CONTRACT_ID>626111</CONTRACT_ID><OPPORTUNITY_NAME>RenewalFinalized2-Renewal-Test-1</OPPORTUNITY_NAME><PRICE_LIST_ID>817033</PRICE_LIST_ID><FCH_MASTER_ID>111111</FCH_MASTER_ID><BUSINESS_TYPE/><SUB_TYPE>Renewal</SUB_TYPE><PAYMENT_TERM>30 NET</PAYMENT_TERM><SELLING_DIVISION>GCCM</SELLING_DIVISION><FCH_BILL_TO_SITE_ID>222222</FCH_BILL_TO_SITE_ID><FCH_BILL_TO_CONTACT_ID></FCH_BILL_TO_CONTACT_ID><FCH_SHIP_TO_SITE_ID>222222</FCH_SHIP_TO_SITE_ID><FCH_SHIP_TO_CONTACT_ID></FCH_SHIP_TO_CONTACT_ID><HDR_ATTRIBUTE1/><HDR_ATTRIBUTE2/><HDR_ATTRIBUTE3/><HDR_ATTRIBUTE4/><HDR_ATTRIBUTE5/><SERVICE_LINE_ID/><SERVICE_ITEM_ID/><SERV_START_DATE>16-DEC-2015</SERV_START_DATE><SERV_END_DATE>28-FEB-2016</SERV_END_DATE><LINE_LIST_PRICE/><LINE_SELLING_PRICE/><ACTUAL_SELLING_PRICE/><DISCOUNT_PERCENT/><QUANTITY/><ASSET_NAME/><ASSET_SERIAL_NUMBER/><LINE_ATTRIBUTE1/><LINE_ATTRIBUTE2/><LINE_ATTRIBUTE3/><LINE_ATTRIBUTE4/><LINE_ATTRIBUTE5/></ROW><ROW><STAGING_ID>6261</STAGING_ID><LAST_UPDATE_DATE>16-DEC-2015</LAST_UPDATE_DATE><LAST_UPDATED_BY>242847</LAST_UPDATED_BY><CREATION_DATE>16-DEC-2015</CREATION_DATE><CREATED_BY>308273</CREATED_BY><BATCH_ID>20806</BATCH_ID><CONC_REQUEST_ID>124864260</CONC_REQUEST_ID><EVENT_RAISED_FLAG>Y</EVENT_RAISED_FLAG><STATUS>FETCH_ISG_WS</STATUS><ERROR_MESSAGE/><BPEL_INSTANCE_NAME>SOATEST</BPEL_INSTANCE_NAME><BPEL_INSTANCE_ID>54354323</BPEL_INSTANCE_ID><ADDL_ATTRIBUTE1/><ADDL_ATTRIBUTE2/><ADDL_ATTRIBUTE3/><ADDL_ATTRIBUTE4/><ADDL_ATTRIBUTE5/><ADDL_ATTRIBUTE6/><ADDL_ATTRIBUTE7/><ADDL_ATTRIBUTE8/><ADDL_ATTRIBUTE9/><ADDL_ATTRIBUTE10/><DATA_TYPE>L</DATA_TYPE><NUM_OF_LINES/><RECORD_TYPE>REN</RECORD_TYPE><CONTRACT_ID>626111</CONTRACT_ID><OPPORTUNITY_NAME/><PRICE_LIST_ID/><FCH_MASTER_ID/><BUSINESS_TYPE/><SUB_TYPE/><PAYMENT_TERM/><SELLING_DIVISION/><FCH_BILL_TO_SITE_ID/><FCH_BILL_TO_CONTACT_ID/><FCH_SHIP_TO_SITE_ID/><FCH_SHIP_TO_CONTACT_ID/><HDR_ATTRIBUTE1/><HDR_ATTRIBUTE2/><HDR_ATTRIBUTE3/><HDR_ATTRIBUTE4/><HDR_ATTRIBUTE5/><SERVICE_LINE_ID>928744017434531426007474814316055620004682</SERVICE_LINE_ID><SERVICE_ITEM_ID>11111111</SERVICE_ITEM_ID><LINE_LIST_PRICE>1000</LINE_LIST_PRICE><LINE_SELLING_PRICE>12000</LINE_SELLING_PRICE><ACTUAL_SELLING_PRICE>12000</ACTUAL_SELLING_PRICE><DISCOUNT_PERCENT>2</DISCOUNT_PERCENT><QUANTITY>12</QUANTITY><ASSET_NAME>391G</ASSET_NAME><SERV_START_DATE>16-DEC-2015</SERV_START_DATE><SERV_END_DATE>26-FEB-2016</SERV_END_DATE><ASSET_SERIAL_NUMBER/><LINE_ATTRIBUTE1/><LINE_ATTRIBUTE2/><LINE_ATTRIBUTE3/><LINE_ATTRIBUTE4/><LINE_ATTRIBUTE5/></ROW><ROW><STAGING_ID>6262</STAGING_ID><LAST_UPDATE_DATE>16-DEC-2015</LAST_UPDATE_DATE><LAST_UPDATED_BY>242847</LAST_UPDATED_BY><CREATION_DATE>16-DEC-2015</CREATION_DATE><CREATED_BY>308273</CREATED_BY><BATCH_ID>20806</BATCH_ID><CONC_REQUEST_ID>124864260</CONC_REQUEST_ID><EVENT_RAISED_FLAG>Y</EVENT_RAISED_FLAG><STATUS>FETCH_ISG_WS</STATUS><ERROR_MESSAGE/><BPEL_INSTANCE_NAME>SOATEST</BPEL_INSTANCE_NAME><BPEL_INSTANCE_ID>54354323</BPEL_INSTANCE_ID><ADDL_ATTRIBUTE1/><ADDL_ATTRIBUTE2/><ADDL_ATTRIBUTE3/><ADDL_ATTRIBUTE4/><ADDL_ATTRIBUTE5/><ADDL_ATTRIBUTE6/><ADDL_ATTRIBUTE7/><ADDL_ATTRIBUTE8/><ADDL_ATTRIBUTE9/><ADDL_ATTRIBUTE10/><DATA_TYPE>L</DATA_TYPE><NUM_OF_LINES/><RECORD_TYPE>REN</RECORD_TYPE><CONTRACT_ID>626111</CONTRACT_ID><OPPORTUNITY_NAME/><PRICE_LIST_ID/><FCH_MASTER_ID/><BUSINESS_TYPE/><SUB_TYPE/><PAYMENT_TERM/><SELLING_DIVISION/><FCH_BILL_TO_SITE_ID/><FCH_BILL_TO_CONTACT_ID/><FCH_SHIP_TO_SITE_ID/><FCH_SHIP_TO_CONTACT_ID/><HDR_ATTRIBUTE1/><HDR_ATTRIBUTE2/><HDR_ATTRIBUTE3/><HDR_ATTRIBUTE4/><HDR_ATTRIBUTE5/><SERVICE_LINE_ID>928744017434531426007474814316055620004684</SERVICE_LINE_ID><SERVICE_ITEM_ID>1320376</SERVICE_ITEM_ID><LINE_LIST_PRICE>1000</LINE_LIST_PRICE><LINE_SELLING_PRICE>14000</LINE_SELLING_PRICE><ACTUAL_SELLING_PRICE>14000</ACTUAL_SELLING_PRICE><DISCOUNT_PERCENT>4</DISCOUNT_PERCENT><QUANTITY>24</QUANTITY><ASSET_NAME>391G</ASSET_NAME><SERV_START_DATE>16-DEC-2015</SERV_START_DATE><SERV_END_DATE>26-FEB-2016</SERV_END_DATE><ASSET_SERIAL_NUMBER/><LINE_ATTRIBUTE1/><LINE_ATTRIBUTE2/><LINE_ATTRIBUTE3/><LINE_ATTRIBUTE4/><LINE_ATTRIBUTE5/></ROW></ROWSET>';
            SFDCInboundWebServiceController.PayLoad dataObj = new SFDCInboundWebServiceController.PayLoad();
            dataObj.InterfaceName = 'TNV_SFDC_OPPORTUNITY_EXT_PKG';
            dataObj.XMLContent = XMLContent;
            
            test.startTest();
            SFDCInboundWebServiceController.SFDCInboundWebServiceMethod(dataObj);
            test.stopTest();
        }
    }

    static testmethod void TestSFDCInboundWebServiceController3(){
        User u = [select Id from User where Name = 'EBS API User'];
        System.runAs(u){
            GenerateTestData.createAccount();        
            GenerateTestData.createAddress();
            GenerateTestData.createAsset();
        
            String XMLContent = '<ROWSET><ROW><STAGING_ID>6260</STAGING_ID><LAST_UPDATE_DATE>16-DEC-2015</LAST_UPDATE_DATE><LAST_UPDATED_BY>242847</LAST_UPDATED_BY><CREATION_DATE>16-DEC-2015</CREATION_DATE><CREATED_BY>308273</CREATED_BY><BATCH_ID>20806</BATCH_ID><CONC_REQUEST_ID>124864260</CONC_REQUEST_ID><EVENT_RAISED_FLAG>Y</EVENT_RAISED_FLAG><STATUS>FETCH_ISG_WS</STATUS><ERROR_MESSAGE/><BPEL_INSTANCE_NAME>SOATEST</BPEL_INSTANCE_NAME><BPEL_INSTANCE_ID>54354323</BPEL_INSTANCE_ID><ADDL_ATTRIBUTE1/><ADDL_ATTRIBUTE2/><ADDL_ATTRIBUTE3/><ADDL_ATTRIBUTE4/><ADDL_ATTRIBUTE5/><ADDL_ATTRIBUTE6/><ADDL_ATTRIBUTE7/><ADDL_ATTRIBUTE8/><ADDL_ATTRIBUTE9/><ADDL_ATTRIBUTE10/><DATA_TYPE>H</DATA_TYPE><NUM_OF_LINES>2</NUM_OF_LINES><RECORD_TYPE>REN</RECORD_TYPE><CONTRACT_ID>626000</CONTRACT_ID><OPPORTUNITY_NAME>RenewalFinalized2-Renewal-Test-1</OPPORTUNITY_NAME><PRICE_LIST_ID>817033</PRICE_LIST_ID><FCH_MASTER_ID>111111</FCH_MASTER_ID><BUSINESS_TYPE/><SUB_TYPE>Renewal</SUB_TYPE><PAYMENT_TERM>30 NET</PAYMENT_TERM><SELLING_DIVISION>RE&WS</SELLING_DIVISION><FCH_BILL_TO_SITE_ID>222222</FCH_BILL_TO_SITE_ID><FCH_BILL_TO_CONTACT_ID></FCH_BILL_TO_CONTACT_ID><FCH_SHIP_TO_SITE_ID>222222</FCH_SHIP_TO_SITE_ID><FCH_SHIP_TO_CONTACT_ID></FCH_SHIP_TO_CONTACT_ID><HDR_ATTRIBUTE1/><HDR_ATTRIBUTE2/><HDR_ATTRIBUTE3/><HDR_ATTRIBUTE4/><HDR_ATTRIBUTE5/><SERVICE_LINE_ID/><SERVICE_ITEM_ID/><SERV_START_DATE>16-DEC-2015</SERV_START_DATE><SERV_END_DATE>28-FEB-2016</SERV_END_DATE><LINE_LIST_PRICE/><LINE_SELLING_PRICE/><ACTUAL_SELLING_PRICE/><DISCOUNT_PERCENT/><QUANTITY/><ASSET_NAME/><ASSET_SERIAL_NUMBER/><LINE_ATTRIBUTE1/><LINE_ATTRIBUTE2/><LINE_ATTRIBUTE3/><LINE_ATTRIBUTE4/><LINE_ATTRIBUTE5/></ROW></ROWSET>';
            SFDCInboundWebServiceController.PayLoad dataObj = new SFDCInboundWebServiceController.PayLoad();
            dataObj.InterfaceName = 'TNV_SFDC_OPPORTUNITY_EXT_PKG';
            dataObj.XMLContent = XMLContent;
            
            test.startTest();
            SFDCInboundWebServiceController.SFDCInboundWebServiceMethod(dataObj);
            LineItemHelper.setLaunchControl();
            test.stopTest();
        }
    }
    
    
    static testmethod void TestSFDCInboundWebServiceController4(){
        User u = [select Id from User where Name = 'EBS API User'];
        System.runAs(u){
            GenerateTestData.createAccount();        
            GenerateTestData.createAddress();
            GenerateTestData.createAsset();
            GenerateTestData.createPriceList();
            GenerateTestData.createOpportunity();
            String XMLContent = '<ROWSET><ROW><STAGING_ID>6260</STAGING_ID><LAST_UPDATE_DATE>16-DEC-2015</LAST_UPDATE_DATE><LAST_UPDATED_BY>242847</LAST_UPDATED_BY><CREATION_DATE>16-DEC-2015</CREATION_DATE><CREATED_BY>308273</CREATED_BY><BATCH_ID>20806</BATCH_ID><CONC_REQUEST_ID>124864260</CONC_REQUEST_ID><EVENT_RAISED_FLAG>Y</EVENT_RAISED_FLAG><STATUS>FETCH_ISG_WS</STATUS><ERROR_MESSAGE/><BPEL_INSTANCE_NAME>SOATEST</BPEL_INSTANCE_NAME><BPEL_INSTANCE_ID>54354323</BPEL_INSTANCE_ID><ADDL_ATTRIBUTE1/><ADDL_ATTRIBUTE2/><ADDL_ATTRIBUTE3/><ADDL_ATTRIBUTE4/><ADDL_ATTRIBUTE5/><ADDL_ATTRIBUTE6/><ADDL_ATTRIBUTE7/><ADDL_ATTRIBUTE8/><ADDL_ATTRIBUTE9/><ADDL_ATTRIBUTE10/><DATA_TYPE>H</DATA_TYPE><NUM_OF_LINES>2</NUM_OF_LINES><RECORD_TYPE>REN</RECORD_TYPE><CONTRACT_ID>1234aaa1234</CONTRACT_ID><OPPORTUNITY_NAME>RenewalFinalized2-Renewal-Test-1</OPPORTUNITY_NAME><PRICE_LIST_ID>817033</PRICE_LIST_ID><FCH_MASTER_ID>111111</FCH_MASTER_ID><BUSINESS_TYPE/><SUB_TYPE>Renewal</SUB_TYPE><PAYMENT_TERM>30 NET</PAYMENT_TERM><SELLING_DIVISION>RE&WS</SELLING_DIVISION><FCH_BILL_TO_SITE_ID>222222</FCH_BILL_TO_SITE_ID><FCH_BILL_TO_CONTACT_ID></FCH_BILL_TO_CONTACT_ID><FCH_SHIP_TO_SITE_ID>222222</FCH_SHIP_TO_SITE_ID><FCH_SHIP_TO_CONTACT_ID></FCH_SHIP_TO_CONTACT_ID><HDR_ATTRIBUTE1/><HDR_ATTRIBUTE2/><HDR_ATTRIBUTE3/><HDR_ATTRIBUTE4/><HDR_ATTRIBUTE5/><SERVICE_LINE_ID/><SERVICE_ITEM_ID/><SERV_START_DATE>16-DEC-2015</SERV_START_DATE><SERV_END_DATE>28-FEB-2016</SERV_END_DATE><LINE_LIST_PRICE/><LINE_SELLING_PRICE/><ACTUAL_SELLING_PRICE/><DISCOUNT_PERCENT/><QUANTITY/><ASSET_NAME/><ASSET_SERIAL_NUMBER/><LINE_ATTRIBUTE1/><LINE_ATTRIBUTE2/><LINE_ATTRIBUTE3/><LINE_ATTRIBUTE4/><LINE_ATTRIBUTE5/></ROW><ROW><STAGING_ID>6261</STAGING_ID><LAST_UPDATE_DATE>16-DEC-2015</LAST_UPDATE_DATE><LAST_UPDATED_BY>242847</LAST_UPDATED_BY><CREATION_DATE>16-DEC-2015</CREATION_DATE><CREATED_BY>308273</CREATED_BY><BATCH_ID>20806</BATCH_ID><CONC_REQUEST_ID>124864260</CONC_REQUEST_ID><EVENT_RAISED_FLAG>Y</EVENT_RAISED_FLAG><STATUS>FETCH_ISG_WS</STATUS><ERROR_MESSAGE/><BPEL_INSTANCE_NAME>SOATEST</BPEL_INSTANCE_NAME><BPEL_INSTANCE_ID>54354323</BPEL_INSTANCE_ID><ADDL_ATTRIBUTE1/><ADDL_ATTRIBUTE2/><ADDL_ATTRIBUTE3/><ADDL_ATTRIBUTE4/><ADDL_ATTRIBUTE5/><ADDL_ATTRIBUTE6/><ADDL_ATTRIBUTE7/><ADDL_ATTRIBUTE8/><ADDL_ATTRIBUTE9/><ADDL_ATTRIBUTE10/><DATA_TYPE>L</DATA_TYPE><NUM_OF_LINES/><RECORD_TYPE>REN</RECORD_TYPE><CONTRACT_ID>1234aaa1234</CONTRACT_ID><OPPORTUNITY_NAME/><PRICE_LIST_ID/><FCH_MASTER_ID/><BUSINESS_TYPE/><SUB_TYPE/><PAYMENT_TERM/><SELLING_DIVISION/><FCH_BILL_TO_SITE_ID/><FCH_BILL_TO_CONTACT_ID/><FCH_SHIP_TO_SITE_ID/><FCH_SHIP_TO_CONTACT_ID/><HDR_ATTRIBUTE1/><HDR_ATTRIBUTE2/><HDR_ATTRIBUTE3/><HDR_ATTRIBUTE4/><HDR_ATTRIBUTE5/><SERVICE_LINE_ID>928744017434531426007474814316055620004682</SERVICE_LINE_ID><SERVICE_ITEM_ID>1320376</SERVICE_ITEM_ID><LINE_LIST_PRICE>1000</LINE_LIST_PRICE><LINE_SELLING_PRICE>12000</LINE_SELLING_PRICE><ACTUAL_SELLING_PRICE>12000</ACTUAL_SELLING_PRICE><DISCOUNT_PERCENT>2</DISCOUNT_PERCENT><QUANTITY>12</QUANTITY><ASSET_NAME>391G</ASSET_NAME><SERV_START_DATE>16-DEC-2015</SERV_START_DATE><SERV_END_DATE>26-FEB-2016</SERV_END_DATE><ASSET_SERIAL_NUMBER/><LINE_ATTRIBUTE1/><LINE_ATTRIBUTE2/><LINE_ATTRIBUTE3/><LINE_ATTRIBUTE4/><LINE_ATTRIBUTE5/></ROW><ROW><STAGING_ID>6262</STAGING_ID><LAST_UPDATE_DATE>16-DEC-2015</LAST_UPDATE_DATE><LAST_UPDATED_BY>242847</LAST_UPDATED_BY><CREATION_DATE>16-DEC-2015</CREATION_DATE><CREATED_BY>308273</CREATED_BY><BATCH_ID>20806</BATCH_ID><CONC_REQUEST_ID>124864260</CONC_REQUEST_ID><EVENT_RAISED_FLAG>Y</EVENT_RAISED_FLAG><STATUS>FETCH_ISG_WS</STATUS><ERROR_MESSAGE/><BPEL_INSTANCE_NAME>SOATEST</BPEL_INSTANCE_NAME><BPEL_INSTANCE_ID>54354323</BPEL_INSTANCE_ID><ADDL_ATTRIBUTE1/><ADDL_ATTRIBUTE2/><ADDL_ATTRIBUTE3/><ADDL_ATTRIBUTE4/><ADDL_ATTRIBUTE5/><ADDL_ATTRIBUTE6/><ADDL_ATTRIBUTE7/><ADDL_ATTRIBUTE8/><ADDL_ATTRIBUTE9/><ADDL_ATTRIBUTE10/><DATA_TYPE>L</DATA_TYPE><NUM_OF_LINES/><RECORD_TYPE>REN</RECORD_TYPE><CONTRACT_ID>1234aaa1234</CONTRACT_ID><OPPORTUNITY_NAME/><PRICE_LIST_ID/><FCH_MASTER_ID/><BUSINESS_TYPE/><SUB_TYPE/><PAYMENT_TERM/><SELLING_DIVISION/><FCH_BILL_TO_SITE_ID/><FCH_BILL_TO_CONTACT_ID/><FCH_SHIP_TO_SITE_ID/><FCH_SHIP_TO_CONTACT_ID/><HDR_ATTRIBUTE1/><HDR_ATTRIBUTE2/><HDR_ATTRIBUTE3/><HDR_ATTRIBUTE4/><HDR_ATTRIBUTE5/><SERVICE_LINE_ID>928744017434531426007474814316055620004684</SERVICE_LINE_ID><SERVICE_ITEM_ID>1320376</SERVICE_ITEM_ID><LINE_LIST_PRICE>1000</LINE_LIST_PRICE><LINE_SELLING_PRICE>14000</LINE_SELLING_PRICE><ACTUAL_SELLING_PRICE>14000</ACTUAL_SELLING_PRICE><DISCOUNT_PERCENT>4</DISCOUNT_PERCENT><QUANTITY>24</QUANTITY><ASSET_NAME>391G</ASSET_NAME><SERV_START_DATE>16-DEC-2015</SERV_START_DATE><SERV_END_DATE>26-FEB-2016</SERV_END_DATE><ASSET_SERIAL_NUMBER/><LINE_ATTRIBUTE1/><LINE_ATTRIBUTE2/><LINE_ATTRIBUTE3/><LINE_ATTRIBUTE4/><LINE_ATTRIBUTE5/></ROW></ROWSET>';
            SFDCInboundWebServiceController.PayLoad dataObj = new SFDCInboundWebServiceController.PayLoad();
            dataObj.InterfaceName = 'TNV_SFDC_OPPORTUNITY_EXT_PKG';
            dataObj.XMLContent = XMLContent;
            dataObj.Attribute1 = '';
            dataObj.Attribute2 = '';
            dataObj.Attribute3 = '';
            dataObj.Attribute4 = '';
            dataObj.Attribute5 = '';
            test.startTest();
            SFDCInboundWebServiceController.SFDCInboundWebServiceMethod(dataObj);
            set<Id> oppIds = new set<Id>();
            oppIds.add(GenerateTestData.opp.Id);
            CreateRenewalOpportunityFromEBS.UpdateRenewalStatusOfOpportunity(oppIds);
            test.stopTest();
        }
    }
    
    static testmethod void TestScheduleBatchCreateProposal(){
        User u = [select Id from User where Name = 'EBS API User'];
        System.runAs(u){
            test.startTest();
            ScheduleBatchCreateProposal sbcp = new ScheduleBatchCreateProposal();
            String CRON_EXP = '0 0 0 15 3 ? 2022';
            System.schedule( 'ScheduleBatchCreateProposal' + CRON_EXP, CRON_EXP, sbcp);
            test.stopTest();
        }
    }
    
    static testmethod void TestSFDCInboundWebServiceController5(){
        User u = [select Id from User where Name = 'EBS API User'];
        System.runAs(u){
            GenerateTestData.createAccount();        
            GenerateTestData.createAddress();
            GenerateTestData.createAsset();
        
            String XMLContent = '<ROWSET><ROW><STAGING_ID>6260</STAGING_ID><LAST_UPDATE_DATE>16-DEC-2015</LAST_UPDATE_DATE><LAST_UPDATED_BY>242847</LAST_UPDATED_BY><CREATION_DATE>16-DEC-2015</CREATION_DATE><CREATED_BY>308273</CREATED_BY><BATCH_ID>20806</BATCH_ID><CONC_REQUEST_ID>124864260</CONC_REQUEST_ID><EVENT_RAISED_FLAG>Y</EVENT_RAISED_FLAG><STATUS>FETCH_ISG_WS</STATUS><ERROR_MESSAGE/><BPEL_INSTANCE_NAME>SOATEST</BPEL_INSTANCE_NAME><BPEL_INSTANCE_ID>54354323</BPEL_INSTANCE_ID><ADDL_ATTRIBUTE1/><ADDL_ATTRIBUTE2/><ADDL_ATTRIBUTE3/><ADDL_ATTRIBUTE4/><ADDL_ATTRIBUTE5/><ADDL_ATTRIBUTE6/><ADDL_ATTRIBUTE7/><ADDL_ATTRIBUTE8/><ADDL_ATTRIBUTE9/><ADDL_ATTRIBUTE10/><DATA_TYPE>H</DATA_TYPE><NUM_OF_LINES>2</NUM_OF_LINES><RECORD_TYPE>REN</RECORD_TYPE><CONTRACT_ID>626111</CONTRACT_ID><CONTRACT_GROUP>ARFC - BUILDING CONSTRUCTION</CONTRACT_GROUP><OPPORTUNITY_NAME>RenewalFinalized2-Renewal-Test-1</OPPORTUNITY_NAME><PRICE_LIST_ID>817033</PRICE_LIST_ID><FCH_MASTER_ID>111111</FCH_MASTER_ID><BUSINESS_TYPE/><SUB_TYPE>Renewal</SUB_TYPE><PAYMENT_TERM>30 NET</PAYMENT_TERM><SELLING_DIVISION>MEP NA</SELLING_DIVISION><FCH_BILL_TO_SITE_ID>222222</FCH_BILL_TO_SITE_ID><FCH_BILL_TO_CONTACT_ID></FCH_BILL_TO_CONTACT_ID><FCH_SHIP_TO_SITE_ID>222222</FCH_SHIP_TO_SITE_ID><FCH_SHIP_TO_CONTACT_ID></FCH_SHIP_TO_CONTACT_ID><HDR_ATTRIBUTE1/><HDR_ATTRIBUTE2/><HDR_ATTRIBUTE3/><HDR_ATTRIBUTE4/><HDR_ATTRIBUTE5/><SERVICE_LINE_ID/><SERVICE_ITEM_ID/><SERV_START_DATE>16-DEC-2015</SERV_START_DATE><SERV_END_DATE>28-FEB-2016</SERV_END_DATE><LINE_LIST_PRICE/><LINE_SELLING_PRICE/><ACTUAL_SELLING_PRICE/><DISCOUNT_PERCENT/><QUANTITY/><ASSET_NAME/><ASSET_SERIAL_NUMBER/><LINE_ATTRIBUTE1/><LINE_ATTRIBUTE2/><LINE_ATTRIBUTE3/><LINE_ATTRIBUTE4/><LINE_ATTRIBUTE5/></ROW><ROW><STAGING_ID>6261</STAGING_ID><LAST_UPDATE_DATE>16-DEC-2015</LAST_UPDATE_DATE><LAST_UPDATED_BY>242847</LAST_UPDATED_BY><CREATION_DATE>16-DEC-2015</CREATION_DATE><CREATED_BY>308273</CREATED_BY><BATCH_ID>20806</BATCH_ID><CONC_REQUEST_ID>124864260</CONC_REQUEST_ID><EVENT_RAISED_FLAG>Y</EVENT_RAISED_FLAG><STATUS>FETCH_ISG_WS</STATUS><ERROR_MESSAGE/><BPEL_INSTANCE_NAME>SOATEST</BPEL_INSTANCE_NAME><BPEL_INSTANCE_ID>54354323</BPEL_INSTANCE_ID><ADDL_ATTRIBUTE1/><ADDL_ATTRIBUTE2/><ADDL_ATTRIBUTE3/><ADDL_ATTRIBUTE4/><ADDL_ATTRIBUTE5/><ADDL_ATTRIBUTE6/><ADDL_ATTRIBUTE7/><ADDL_ATTRIBUTE8/><ADDL_ATTRIBUTE9/><ADDL_ATTRIBUTE10/><DATA_TYPE>L</DATA_TYPE><NUM_OF_LINES/><RECORD_TYPE>REN</RECORD_TYPE><CONTRACT_ID>626111</CONTRACT_ID><OPPORTUNITY_NAME/><PRICE_LIST_ID/><FCH_MASTER_ID/><BUSINESS_TYPE/><SUB_TYPE/><PAYMENT_TERM/><SELLING_DIVISION/><FCH_BILL_TO_SITE_ID/><FCH_BILL_TO_CONTACT_ID/><FCH_SHIP_TO_SITE_ID/><FCH_SHIP_TO_CONTACT_ID/><HDR_ATTRIBUTE1/><HDR_ATTRIBUTE2/><HDR_ATTRIBUTE3/><HDR_ATTRIBUTE4/><HDR_ATTRIBUTE5/><SERVICE_LINE_ID>928744017434531426007474814316055620004682</SERVICE_LINE_ID><SERVICE_ITEM_ID>11111111</SERVICE_ITEM_ID><LINE_LIST_PRICE>1000</LINE_LIST_PRICE><LINE_SELLING_PRICE>12000</LINE_SELLING_PRICE><ACTUAL_SELLING_PRICE>12000</ACTUAL_SELLING_PRICE><DISCOUNT_PERCENT>2</DISCOUNT_PERCENT><QUANTITY>12</QUANTITY><ASSET_NAME>391G</ASSET_NAME><SERV_START_DATE>16-DEC-2015</SERV_START_DATE><SERV_END_DATE>26-FEB-2016</SERV_END_DATE><ASSET_SERIAL_NUMBER/><LINE_ATTRIBUTE1/><LINE_ATTRIBUTE2/><LINE_ATTRIBUTE3/><LINE_ATTRIBUTE4/><LINE_ATTRIBUTE5/></ROW><ROW><STAGING_ID>6262</STAGING_ID><LAST_UPDATE_DATE>16-DEC-2015</LAST_UPDATE_DATE><LAST_UPDATED_BY>242847</LAST_UPDATED_BY><CREATION_DATE>16-DEC-2015</CREATION_DATE><CREATED_BY>308273</CREATED_BY><BATCH_ID>20806</BATCH_ID><CONC_REQUEST_ID>124864260</CONC_REQUEST_ID><EVENT_RAISED_FLAG>Y</EVENT_RAISED_FLAG><STATUS>FETCH_ISG_WS</STATUS><ERROR_MESSAGE/><BPEL_INSTANCE_NAME>SOATEST</BPEL_INSTANCE_NAME><BPEL_INSTANCE_ID>54354323</BPEL_INSTANCE_ID><ADDL_ATTRIBUTE1/><ADDL_ATTRIBUTE2/><ADDL_ATTRIBUTE3/><ADDL_ATTRIBUTE4/><ADDL_ATTRIBUTE5/><ADDL_ATTRIBUTE6/><ADDL_ATTRIBUTE7/><ADDL_ATTRIBUTE8/><ADDL_ATTRIBUTE9/><ADDL_ATTRIBUTE10/><DATA_TYPE>L</DATA_TYPE><NUM_OF_LINES/><RECORD_TYPE>REN</RECORD_TYPE><CONTRACT_ID>626111</CONTRACT_ID><OPPORTUNITY_NAME/><PRICE_LIST_ID/><FCH_MASTER_ID/><BUSINESS_TYPE/><SUB_TYPE/><PAYMENT_TERM/><SELLING_DIVISION/><FCH_BILL_TO_SITE_ID/><FCH_BILL_TO_CONTACT_ID/><FCH_SHIP_TO_SITE_ID/><FCH_SHIP_TO_CONTACT_ID/><HDR_ATTRIBUTE1/><HDR_ATTRIBUTE2/><HDR_ATTRIBUTE3/><HDR_ATTRIBUTE4/><HDR_ATTRIBUTE5/><SERVICE_LINE_ID>928744017434531426007474814316055620004684</SERVICE_LINE_ID><SERVICE_ITEM_ID>1320376</SERVICE_ITEM_ID><LINE_LIST_PRICE>1000</LINE_LIST_PRICE><LINE_SELLING_PRICE>14000</LINE_SELLING_PRICE><ACTUAL_SELLING_PRICE>14000</ACTUAL_SELLING_PRICE><DISCOUNT_PERCENT>4</DISCOUNT_PERCENT><QUANTITY>24</QUANTITY><ASSET_NAME>391G</ASSET_NAME><SERV_START_DATE>16-DEC-2015</SERV_START_DATE><SERV_END_DATE>26-FEB-2016</SERV_END_DATE><ASSET_SERIAL_NUMBER/><LINE_ATTRIBUTE1/><LINE_ATTRIBUTE2/><LINE_ATTRIBUTE3/><LINE_ATTRIBUTE4/><LINE_ATTRIBUTE5/></ROW></ROWSET>';
            SFDCInboundWebServiceController.PayLoad dataObj = new SFDCInboundWebServiceController.PayLoad();
            dataObj.InterfaceName = 'TNV_SFDC_OPPORTUNITY_EXT_PKG';
            dataObj.XMLContent = XMLContent;
            
            test.startTest();
            SFDCInboundWebServiceController.SFDCInboundWebServiceMethod(dataObj);
            
            
            XMLContent = '<ROWSET><ROW><STAGING_ID>6260</STAGING_ID><LAST_UPDATE_DATE>16-DEC-2015</LAST_UPDATE_DATE><LAST_UPDATED_BY>242847</LAST_UPDATED_BY><CREATION_DATE>16-DEC-2015</CREATION_DATE><CREATED_BY>308273</CREATED_BY><BATCH_ID>20806</BATCH_ID><CONC_REQUEST_ID>124864260</CONC_REQUEST_ID><EVENT_RAISED_FLAG>Y</EVENT_RAISED_FLAG><STATUS>FETCH_ISG_WS</STATUS><ERROR_MESSAGE/><BPEL_INSTANCE_NAME>SOATEST</BPEL_INSTANCE_NAME><BPEL_INSTANCE_ID>54354323</BPEL_INSTANCE_ID><ADDL_ATTRIBUTE1/><ADDL_ATTRIBUTE2/><ADDL_ATTRIBUTE3/><ADDL_ATTRIBUTE4/><ADDL_ATTRIBUTE5/><ADDL_ATTRIBUTE6/><ADDL_ATTRIBUTE7/><ADDL_ATTRIBUTE8/><ADDL_ATTRIBUTE9/><ADDL_ATTRIBUTE10/><DATA_TYPE>H</DATA_TYPE><NUM_OF_LINES>2</NUM_OF_LINES><RECORD_TYPE>CANCELLED</RECORD_TYPE><CONTRACT_ID>626111</CONTRACT_ID><CONTRACT_GROUP>ARFC - BUILDING CONSTRUCTION</CONTRACT_GROUP><OPPORTUNITY_NAME>RenewalFinalized2-Renewal-Test-1</OPPORTUNITY_NAME><PRICE_LIST_ID>817033</PRICE_LIST_ID><FCH_MASTER_ID>111111</FCH_MASTER_ID><BUSINESS_TYPE/><SUB_TYPE>Renewal</SUB_TYPE><PAYMENT_TERM>30 NET</PAYMENT_TERM><SELLING_DIVISION>MEP NA</SELLING_DIVISION><FCH_BILL_TO_SITE_ID>222222</FCH_BILL_TO_SITE_ID><FCH_BILL_TO_CONTACT_ID></FCH_BILL_TO_CONTACT_ID><FCH_SHIP_TO_SITE_ID>222222</FCH_SHIP_TO_SITE_ID><FCH_SHIP_TO_CONTACT_ID></FCH_SHIP_TO_CONTACT_ID><HDR_ATTRIBUTE1/><HDR_ATTRIBUTE2/><HDR_ATTRIBUTE3/><HDR_ATTRIBUTE4/><HDR_ATTRIBUTE5/><SERVICE_LINE_ID/><SERVICE_ITEM_ID/><SERV_START_DATE>16-DEC-2015</SERV_START_DATE><SERV_END_DATE>28-FEB-2016</SERV_END_DATE><LINE_LIST_PRICE/><LINE_SELLING_PRICE/><ACTUAL_SELLING_PRICE/><DISCOUNT_PERCENT/><QUANTITY/><ASSET_NAME/><ASSET_SERIAL_NUMBER/><LINE_ATTRIBUTE1/><LINE_ATTRIBUTE2/><LINE_ATTRIBUTE3/><LINE_ATTRIBUTE4/><LINE_ATTRIBUTE5/></ROW></ROWSET>';
            dataObj = new SFDCInboundWebServiceController.PayLoad();
            dataObj.InterfaceName = 'TNV_SFDC_OPPORTUNITY_EXT_PKG';
            dataObj.XMLContent = XMLContent;
            
            SFDCInboundWebServiceController.SFDCInboundWebServiceMethod(dataObj);
            Map<Id,Opportunity> mapOpportunitys = new Map<Id,Opportunity>([Select ID from Opportunity where Contract__c = '626111' limit 1]);
            CreateRenewalOpportunityFromEBS.UpdateRenewalStatusOfOpportunity(mapOpportunitys.keySet());
            CreateRenewalOpportunityFromEBS.setLaunchControl();
            test.stopTest();
        }
    }
    
}